(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{334:function(t,s,a){"use strict";a.r(s);var e=a(33),o=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"js进阶-proto、prototype、继承三者的关系就这么简单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js进阶-proto、prototype、继承三者的关系就这么简单"}},[t._v("#")]),t._v(" [JS进阶]"),a("em",[t._v("proto")]),t._v("、prototype、继承三者的关系就这么简单")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#核心四句"}},[t._v("核心四句")])]),a("li",[a("a",{attrs:{href:"#实例解析"}},[t._v("实例解析")])])])]),a("p"),t._v(" "),a("h3",{attrs:{id:"核心四句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#核心四句"}},[t._v("#")]),t._v(" 核心四句")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("1、所有对象都有__proto__属性来标识自己所继承的原型；")])]),t._v(" "),a("li",[a("strong",[t._v("2、函数才有prototype属性；")])]),t._v(" "),a("li",[a("strong",[t._v("3、创建函数时，JS会为这个函数自动添加prototype属性，值是一个有 constructor 属性的对象；")])]),t._v(" "),a("li",[a("strong",[t._v("4、函数当作构造函数调用（通过new调用），JS会帮助创建构造函数的实例，实例通过设置自己的__proto__指向构造函数的prototype来实现继承；")])])]),t._v(" "),a("h3",{attrs:{id:"实例解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例解析"}},[t._v("#")]),t._v(" 实例解析")]),t._v(" "),a("h4",{attrs:{id:"_1、定义对象和函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、定义对象和函数"}},[t._v("#")]),t._v(" 1、定义对象和函数")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//字面量定义对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//构造函数定义对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//定义函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//函数作为构造函数创建实例")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"_2、输出比较"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、输出比较"}},[t._v("#")]),t._v(" 2、输出比较")]),t._v(" "),a("p",[t._v("  在浏览器的控制台console中输入上述定义的对象和函数，进行_proto_和prototype的比较：\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119210743629.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119210828234.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119210917157.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119210945418.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119211117117.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119211436714.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119212424156.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}})]),t._v(" "),a("h4",{attrs:{id:"_3、输出解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、输出解析"}},[t._v("#")]),t._v(" 3、输出解析")]),t._v(" "),a("h5",{attrs:{id:"_1）所有对象都有-proto-属性来标识自己所继承的原型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1）所有对象都有-proto-属性来标识自己所继承的原型"}},[t._v("#")]),t._v(" 1）所有对象都有__proto__属性来标识自己所继承的原型")]),t._v(" "),a("p",[t._v("  比教上述所有输出的截图：无论对象还是函数，所有的输出都含有"),a("code",[t._v("__proto__")]),t._v("，为什么函数也有"),a("code",[t._v("__proto__")]),t._v("呢？因为"),a("code",[t._v("函数本质上是特殊的对象")]),t._v("，所有函数也是有"),a("code",[t._v("__proto__")]),t._v("的；从中可以验证"),a("code",[t._v("所有对象都有__proto__属性来标识自己所继承的原型")]),t._v(" 。为了验证函数也是对象可以使用"),a("code",[t._v("instanceof")]),t._v("进行判断：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("Function "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),a("h5",{attrs:{id:"_2）函数才有prototype属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2）函数才有prototype属性"}},[t._v("#")]),t._v(" 2）函数才有prototype属性")]),t._v(" "),a("p",[t._v("  上图中，只有"),a("code",[t._v("f")]),t._v("和"),a("code",[t._v("Object")]),t._v("输出中才有"),a("code",[t._v("prototype")]),t._v("，说明他们都是函数，对于"),a("code",[t._v("f")]),t._v("我们很容易判断，因为在定义时就决定了它时函数的事实，但是"),a("code",[t._v("Object")]),t._v("也是函数吗？不妨同样使用"),a("code",[t._v("instanceof")]),t._v("进行判断：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("Object "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),a("p",[t._v("从结果我们可以得出："),a("code",[t._v("Object")]),t._v("底层定义为函数，我们通过"),a("code",[t._v("new")]),t._v("关键字调用的时候，就将"),a("code",[t._v("Object")]),t._v("作为构造函数使用的。")]),t._v(" "),a("h5",{attrs:{id:"_3）创建函数时，js会为这个函数自动添加prototype属性，值是一个有-constructor-属性的对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3）创建函数时，js会为这个函数自动添加prototype属性，值是一个有-constructor-属性的对象"}},[t._v("#")]),t._v(" 3）创建函数时，JS会为这个函数自动添加prototype属性，值是一个有 constructor 属性的对象")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119214616842.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v("\n  输出"),a("code",[t._v("函数f的prototype")]),t._v("，其实质是一个包含"),a("code",[t._v("constructor属性的对象")]),t._v("；")]),t._v(" "),a("h5",{attrs:{id:"_4）函数当作构造函数调用（通过new调用），js会帮助创建构造函数的实例，实例通过设置自己的-proto-指向构造函数的prototype来实现继承"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4）函数当作构造函数调用（通过new调用），js会帮助创建构造函数的实例，实例通过设置自己的-proto-指向构造函数的prototype来实现继承"}},[t._v("#")]),t._v(" 4）函数当作构造函数调用（通过new调用），JS会帮助创建构造函数的实例，实例通过设置自己的__proto__指向构造函数的prototype来实现继承")]),t._v(" "),a("p",[t._v("  这句话从本质上阐述了"),a("code",[t._v("js中继承")]),t._v("的实现，即通过构造函数创建实例对象，实例的"),a("code",[t._v("__proto__")]),t._v("其实指向其构造函数的"),a("code",[t._v("prototye属性")]),t._v("；同样，我们用代码来验证下：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//true")]),t._v("\nb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//true")]),t._v("\nc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//true")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201119215618973.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v(" "),a("strong",[t._v("注意：字面量方式创建对象其底层也是通过"),a("code",[t._v("new Object")]),t._v("实现的，所有"),a("code",[t._v("let a = {} 等价于 let a = new Object()")]),t._v("。")])]),t._v(" "),a("h4",{attrs:{id:"_4、原型和继承图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、原型和继承图"}},[t._v("#")]),t._v(" 4、原型和继承图")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/202011192230572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}}),t._v("\n上图为"),a("code",[t._v("原型链图")]),t._v("，我们对上图进行人为的分区处理，大致分为四个区域，我们不妨将上面的分析和"),a("code",[t._v("核心四句")]),t._v("和"),a("code",[t._v("原型链图")]),t._v("对应起来理解：")]),t._v(" "),a("ul",[a("li",[t._v("1、"),a("code",[t._v("Function instanceof Object // true")]),t._v(" "),a("code",[t._v("Object instanceof Function // true")]),t._v("（"),a("code",[t._v("区域1")]),t._v(" ），当然到底是"),a("strong",[t._v("先有鸡还是先有蛋")]),t._v("的探究这里就不深入了;")]),t._v(" "),a("li",[t._v("2、对最底层"),a("code",[t._v("Object")]),t._v("继续进行原型跟踪，最终"),a("code",[t._v("__proto__为null")]),t._v("（"),a("code",[t._v("区域1")]),t._v(" ）;")]),t._v(" "),a("li",[t._v("3、定义的函数通过new关键字调用，生成新的函数实例的"),a("code",[t._v("__proto__继承了构造函数.prototype")]),t._v("（"),a("code",[t._v("区域2")]),t._v("）;")]),t._v(" "),a("li",[t._v("4、函数的"),a("code",[t._v("prototype")]),t._v("属性的"),a("code",[t._v("构造函数constructor")]),t._v("指向函数本身（"),a("code",[t._v("区域1，2，3")]),t._v("）"),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//true")]),t._v("\nFunction "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//true")]),t._v("\nObject "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor\n\n")])])])])]),t._v(" "),a("h4",{attrs:{id:"_5、小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、小结"}},[t._v("#")]),t._v(" 5、小结")]),t._v(" "),a("p",[t._v("  在javascript中，通过__proto__和prototype的合作实现了原型链，以及对象的继承。另外，对于作为构造函数的函数而言，可以使用prototype存放要共享的属性和方法，也可以设置prototype指向现存的对象来继承该对象。\n  对于任何对象而言，其自身的__proto__指向自己构造函数的prototype属性，通过obj."),a("strong",[t._v("proto")]),t._v("."),a("strong",[t._v("proto")]),t._v("...一层一层的调用实现了原型链。其中包括操作符instanceof本质上是通过探测obj."),a("strong",[t._v("proto")]),t._v("."),a("strong",[t._v("proto")]),t._v("... 是否最终等于构造函数constructor.prototype来验证obj是否是构造函数constructor的实例。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201108113651711.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxOTY3OTg1,size_16,color_FFFFFF,t_70#pic_center",alt:"在这里插入图片描述"}})])])}),[],!1,null,null,null);s.default=o.exports}}]);